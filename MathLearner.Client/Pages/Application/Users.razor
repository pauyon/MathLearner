@page "/application/users"
@inject IUserService UserService

<GridTemplate PageTitle="@(typeof(Users).Name)" IsLoading="@(UserList == null)">
    <MainContent>
        <MudDataGrid Items="@UserList" Elevation="10">
            <Columns>
                <PropertyColumn Property="x => x.Id" />
                <PropertyColumn Property="x => x.Username" />
                <PropertyColumn Property="x => x.Email" />
                <TemplateColumn CellClass="d-flex justify-end" HeaderClass="d-flex justify-end" Title="Actions">
                    <CellTemplate>
                        <MudStack Row>
                            <MudButton Size="@Size.Small" Variant="@Variant.Filled" Color="Color.Info">Edit</MudButton>
                            <MudButton Size="@Size.Small" Variant="@Variant.Filled" Color="Color.Error">Delete</MudButton>
                        </MudStack>
                    </CellTemplate>
                </TemplateColumn>
            </Columns>
        </MudDataGrid>
    </MainContent>
</GridTemplate>

@code {
    List<User>? UserList;

    protected override async Task OnInitializedAsync()
    {
        base.OnInitialized();
        UserList = await UserService.GetAll();
    }
}
